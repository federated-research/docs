import {Callout,Table} from "nextra/components"

# Stack Components

The All In One stack provides a number of services which would
usually be hosted separately, but are combined together here
for the convenience of users.

These are listed below, along with a short description of their function,
and with the local web addresses and user accounts.
Note that these user accounts are only intended for local training purposes.
If you deploy this stack for public access then these must be changed.


## Submission Layer

This is the front page of the stack, which any researchers interacting
with the service will use. Approved researchers can submit tasks to a Project using the API or by interacting with the UI.

**Hosted at** : [localhost:7220](http://localhost:7220)
### Login credentials:

```
Username: globaladminuser

Password: password123
```

## KeyCloak Server

Keycloak is used for user authentication & user management across all three layers.

**Hosted at** : [localhost:8085](http://localhost:8085)
### Login credentials:

```
Username: admin

Password: admin
```

## TRE Agent (TRE Layer)

The TRE Agent handles the communication between the Submission Layer and the TRE.
The TRE Agent polls out to the Submission Layer, gets a task, then sends the task to an implementation of the GA4GH Task Execution Schemas ([TESK](https://github.com/elixir-cloud-aai/TESK) or [Funnel](https://github.com/ohsu-comp-bio/funnel)). 
Once the task is finished executing the TRE Agent sends the results to Egress.

**Hosted at** : [localhost:8989](http://localhost:8989)
### Login credentials:

```
Username: globaladminuser

Password: password123
```

## Egress (TRE Layer)

The Egress API handles egress requests. Once a task is finished executing the results are then waiting for approval in the Egress layer.
Once results are approved/rejected it sends an update to the TRE Agent.

**Hosted at** : [localhost:8100](http://localhost:8100)
### Login credentials:

```
Username: globaladminuser

Password: password123
```

## Backend Services

### Seq Activity Logs

Activity logs for the stack.

**Hosted at**: [localhost:5341](http://localhost:5341)

### TRE API

Swagger UI API documentation for the TRE service.

**Hosted at**: [localhost:8072/swagger](http://localhost:8072/swagger)


### TRE Job Tracking

Job tracking service for the TRE service.

**Hosted at**: [localhost:8072/hangfire](http://localhost:8072/hangfire)
```
Username: admin

Password: password123
```

### MinIO

These are the object stores for the stack.

#### Submission Minio:
Submission Layer MinIO stores any inputs and after execution, stores the results for a submission.

**Hosted at**: [localhost:9000](http://localhost:9000)

```
Username: minio

Password: minio123
```
#### TRE Minio
TRE Agent MinIO, stores any inputs copied over from the Submission layer, and the results of the analysis.

**Hosted at**: [localhost:9002](http://localhost:9002)

```
Username: minio

Password: minio123
```



